# SIP AI Agent Configuration Template
# Copy this file to .env and fill in your actual values

# =============================================================================
# SIP Configuration (Required)
# =============================================================================
SIP_DOMAIN=your.asterisk.ip.or.domain
SIP_USER=1001
SIP_PASS=yourpassword
SIP_PORT=5060
SIP_TRANSPORT=UDP

# =============================================================================
# SIP Advanced Configuration (Optional)
# =============================================================================
# Jitter buffer size in milliseconds (20-400ms)
SIP_JITTER_BUFFER_SIZE=80

# Enable SRTP encryption for media
SIP_SRTP_ENABLED=false

# Enable secure SIP signaling (TLS)
SIP_SRTP_SECURE_SIGNALING=false

# NAT traversal type: STUN, TURN, or ICE
SIP_NAT_TYPE=

# STUN server for NAT traversal (format: host:port)
SIP_STUN_SERVER=

# TURN server for NAT traversal (format: host:port)
SIP_TURN_SERVER=

# TURN server credentials
SIP_TURN_USER=
SIP_TURN_PASS=

# Preferred codecs (comma-separated): PCMU, PCMA, G.722, L16
SIP_CODECS=PCMU,PCMA,G.722,L16

# SIP registration timeout in seconds
SIP_REGISTRATION_TIMEOUT=30

# Maximum registration retry attempts
SIP_REGISTRATION_RETRY_MAX=5

# Registration retry backoff multiplier
SIP_REGISTRATION_RETRY_BACKOFF=2.0

# =============================================================================
# RTP Configuration (Optional)
# =============================================================================
# RTP port range start
RTP_PORT_RANGE_START=16000

# RTP port range end
RTP_PORT_RANGE_END=16100

# =============================================================================
# Audio Configuration (Optional)
# =============================================================================
# Audio sample rate in Hz
AUDIO_SAMPLE_RATE=16000

# Number of audio channels
AUDIO_CHANNELS=1

# Audio frame duration in milliseconds
AUDIO_FRAME_DURATION=20

# WebSocket backpressure threshold
AUDIO_BACKPRESSURE_THRESHOLD=100

# =============================================================================
# OpenAI Configuration (Required)
# =============================================================================
OPENAI_API_KEY=sk-your-openai-api-key-here
AGENT_ID=va_your-agent-id-here

# OpenAI API mode: legacy or realtime
OPENAI_MODE=realtime

# OpenAI model name (for realtime mode)
OPENAI_MODEL=gpt-realtime

# OpenAI voice: alloy, echo, fable, onyx, nova, shimmer, cedar, marin
OPENAI_VOICE=alloy

# Response temperature (0.0-2.0)
OPENAI_TEMPERATURE=0.3

# System prompt for the AI assistant
SYSTEM_PROMPT=You are a helpful voice assistant.

# OpenAI API timeout in seconds
OPENAI_TIMEOUT=30

# Maximum OpenAI API retry attempts
OPENAI_RETRY_MAX=3

# OpenAI retry backoff multiplier
OPENAI_RETRY_BACKOFF=1.5

# =============================================================================
# Monitoring Configuration (Optional)
# =============================================================================
# Monitor server host
MONITOR_HOST=0.0.0.0

# Monitor server port
MONITOR_PORT=8080

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
MONITOR_LOG_LEVEL=INFO

# Maximum number of logs to keep
MONITOR_MAX_LOGS=1000

# Health check interval in seconds
HEALTH_CHECK_INTERVAL=30

# =============================================================================
# Observability Configuration (Optional)
# =============================================================================
# Enable Prometheus metrics
METRICS_ENABLED=true

# Metrics server port
METRICS_PORT=9090

# Enable structured JSON logging
STRUCTURED_LOGGING=true

# Correlation ID header name
CORRELATION_ID_HEADER=X-Correlation-ID

# =============================================================================
# Development Configuration (Optional)
# =============================================================================
# Enable debug mode
DEBUG=false

# Log SIP messages for debugging
LOG_SIP_MESSAGES=false

# Log audio sample data for debugging
LOG_AUDIO_SAMPLES=false

# =============================================================================
# Example Configurations
# =============================================================================

# Example 1: Basic configuration for FreePBX
# SIP_DOMAIN=192.168.1.100
# SIP_USER=1001
# SIP_PASS=yourpassword123
# OPENAI_API_KEY=sk-your-key
# AGENT_ID=va_123456789

# Example 2: Production configuration with SRTP
# SIP_DOMAIN=sip.yourdomain.com
# SIP_USER=ai-agent
# SIP_PASS=securepassword
# SIP_SRTP_ENABLED=true
# SIP_NAT_TYPE=STUN
# SIP_STUN_SERVER=stun.l.google.com:19302
# OPENAI_MODE=realtime
# OPENAI_VOICE=cedar
# METRICS_ENABLED=true

# Example 3: Development configuration
# SIP_DOMAIN=localhost
# SIP_USER=1001
# SIP_PASS=testpass
# DEBUG=true
# LOG_SIP_MESSAGES=true
# STRUCTURED_LOGGING=false
# METRICS_ENABLED=false
